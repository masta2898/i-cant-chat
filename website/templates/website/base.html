{% load static %}

<!DOCTYPE HTML5>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="{% static 'css/bootstrap/bootstrap.min.css' %}" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">

    <title>I can't chat</title>
</head>
<body class="website-body container">
    <header class="my-2">
        <nav class="navbar navbar-expand-lg navbar-dark website-header">
            <a class="navbar-brand" href="{% url 'website:index' %}">
                <img src="{% static 'img/cant-speak-icon.png' %}" width="30" height="30" class="d-inline-block" loading="lazy">
                I Can't Chat
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                {% block menu %}
                {% endblock %}
                {% if user.is_authenticated and discord_user %}
                <a class="btn website-button" href="{% url 'website:user' %}">
                    <img src="{{ discord_user.avatar_url }}" width="30" height="30" class="d-inline-block rounded-circle mx-1" loading="laze">
                    <span id="original-nickname">{{ discord_user }}</span>
                </a>
                <a class="btn website-button" href="{% url 'website:logout' %}">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-box-arrow-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M11.646 11.354a.5.5 0 0 1 0-.708L14.293 8l-2.647-2.646a.5.5 0 0 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0z"/>
                        <path fill-rule="evenodd" d="M4.5 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"/>
                        <path fill-rule="evenodd" d="M2 13.5A1.5 1.5 0 0 1 .5 12V4A1.5 1.5 0 0 1 2 2.5h7A1.5 1.5 0 0 1 10.5 4v1.5a.5.5 0 0 1-1 0V4a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-1.5a.5.5 0 0 1 1 0V12A1.5 1.5 0 0 1 9 13.5H2z"/>
                    </svg>
                </a>
                {% else %}
                <a class="btn website-button discord-auth-link" href="{% url 'website:discord_auth_url' %}">Войти через Discord</a>
                {% endif %}
            </div>
        </nav>
    </header>

    <main class="website-content">
        {% block content %}
        {% endblock %}
    </main>

    <footer class="website-footer">
        {% block pagination %}
        {# News only #}
        {% endblock %}
        <div class="website-block text-center">
            <small>Developed by<a class="website-link" href="https://github.com/m1tr4b34st">m1tr4b34st</a></small>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="{% static 'js/jquery-3.5.1.min.js' %}"></script>
    <script src="{% static 'js/bootstrap/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
    {# {% if user.is_authenticated %} #}
    <script src="{% static 'js/api.js' %}"></script>
    {# {% else %} #}
    {# <scipt src="{% static 'js/unauthorized_api.js' %}"></scipt> #}
    {# {% endif %} #}
</body>
</html>